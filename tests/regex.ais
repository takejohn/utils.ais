### imports [
    '../src/assert.ais',
    '../src/regex.ais',
]

#[test "should_abort"]
@compile_not_str() {
    Regex:compile(42)
}


#[test]
@search_empty() {
    let regex = Regex:compile('')
    Assert:equals(Regex:search(regex, 'abc'), 0)
    Assert:equals(Regex:search(regex, ''), 0)
}

#[test]
@search_literal() {
    let regex = Regex:compile('abc')
    Assert:equals(Regex:search(regex, 'abcdef'), 0)
    Assert:equals(Regex:search(regex, '123abc'), 3)
    Assert:equals(Regex:search(regex, 'xyz'), -1)
}

#[test]
@test_empty() {
    let regex = Regex:compile('')
    Assert:equals(Regex:test(regex, 'abc'), true)
    Assert:equals(Regex:test(regex, ''), true)
}

#[test]
@test_literal() {
    let regex = Regex:compile('abc')
    Assert:equals(Regex:test(regex, 'abcdef'), true)
    Assert:equals(Regex:test(regex, '123abc'), true)
    Assert:equals(Regex:test(regex, 'xyz'), false)
}
